/*! For license information please see main.dfab8a91.chunk.js.LICENSE.txt */
(this["webpackJsonpgraph-descriptor"]=this["webpackJsonpgraph-descriptor"]||[]).push([[0],{121:function(e,t,n){},122:function(e,t,n){},126:function(e,t,n){},128:function(e,t,n){},144:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(30),c=n.n(i),o=(n(121),n(29)),l=n(8),s=(n(122),n(23)),u=n(101),m=n.n(u),d=n(80),f=(n(123),n(124),n(125),n(126),n(1));function v(e){var t=e.code,n=e.setCode,a=e.language;return Object(f.jsx)(m.a,{style:{fontFamily:"Consolas, Menlo, monospace"},value:t,onValueChange:function(e){return n(e)},highlight:function(e){return Object(d.highlight)(e,d.languages[a])},padding:10,className:"simple-code-editor"})}function p(e){var t=e.title;return Object(f.jsx)("div",{style:{height:50,width:"auto",lineHeight:"50px",fontWeight:"bold",borderLeft:"5px solid #eee",fontSize:"2em",fontFamily:"Times",color:"#333333",textIndent:20},children:t})}var h=n(88);function b(e){var t=e.codeStr,n=e.setCodeStr,r=e.style,i=e.submit,c=Object(a.useState)(!1),o=Object(l.a)(c,2),u=o[0],m=o[1];return Object(f.jsxs)("div",{style:Object(s.a)(Object(s.a)({},r),{},{minWidth:300,margin:5,display:"flex",flexDirection:"column"}),children:[Object(f.jsx)(p,{title:"Code Editor"}),Object(f.jsxs)("div",{style:{height:"100%",marginTop:5,background:"#f6f6f6",position:"relative"},children:[Object(f.jsx)(v,{code:t,setCode:function(e){m(!0),n(e)},language:"js"}),Object(f.jsx)("div",{style:{position:"absolute",right:0,top:0},children:u?Object(f.jsx)(h.b,{fontSize:28,style:{zIndex:1e3,color:"#3b5fc0",cursor:"pointer",margin:5},onClick:function(e){m(!1),i()}}):Object(f.jsx)(h.a,{style:{color:"#a9b0bc"},fontSize:28})})]})]})}function y(e){var t=e.dataStr,n=e.setDataStr,a=e.style;return Object(f.jsxs)("div",{style:Object(s.a)(Object(s.a)({},a),{},{minWidth:300,margin:5,display:"flex",flexDirection:"column"}),children:[Object(f.jsx)(p,{title:"Data Editor"}),Object(f.jsx)("div",{style:{height:"100%",marginTop:5,background:"#f6f6f6"},children:Object(f.jsx)(v,{code:t,setCode:n,language:"js"})})]})}var g=n(9);var j=n(5);function x(e){if(!Array.isArray(e)||0===e.length)return"";var t=e.slice().sort((function(e,t){return t.coverage-e.coverage}))[0];return"common"===t.relation?"Two nodes are connected if their attributes <span class='description-parameter'>".concat(t.attribute,"</span> are with a same value").concat("@@any"===t.value?"":": <span class='description-parameter attribute-parameter'>".concat(t.value,"</span>"),"."):"overlap"===t.relation?"Two nodes are connected if their attributes <span class='description-parameter attribute-parameter'>".concat(t.attribute,"</span> have common values").concat("@@any"===t.value?"":": <span class='description-parameter attribute-parameter'>".concat(t.value,"</span>"),"."):"similar"===t.relation?"Two nodes are connected if their attributes <span class='description-parameter attribute-parameter'>".concat(t.attribute,"</span> are close, with a difference less than: <span class='description-parameter'>").concat(t.value,"</span>."):"same-bin"===t.relation?"Two nodes are connected if their attributes <span class='description-parameter attribute-parameter'>".concat(t.attribute,"</span> are within the same bin").concat("@@any"===t.value?"":": <span class='description-parameter attribute-parameter'>".concat(t.value,"</span>"),"."):void 0}n(128);var O=new Set(["string","number","undefined","boolean"]),E=new Set(["fill","fill-opacity","stroke","stroke-dasharray","stroke-opacity","stroke-width"]),w=(new Map([["circle",new Set(["cx","cy"])],["ellipse",new Set(["cx","cy"])],["line",new Set(["x1","x2","y1","y2"])],["polygon",new Set(["points"])],["polyline",new Set(["points"])],["rect",new Set(["x","y"])],["path",new Set([])],["text",new Set(["x","y"])]]),{fill:"#000000","fill-opacity":1,stroke:"#000000","stroke-dasharray":"none","stroke-opacity":1,rx:"auto",ry:"auto"}),k=new Map([["circle",["r"]],["ellipse",["rx","ry"]],["line",[]],["polygon",[]],["polyline",[]],["rect",["width","height","rx","ry"]],["path",[]],["text",[]]]);k.forEach((function(e,t){e=e.concat(Object(o.a)(E)),k.set(t,new Set(e))}));var N=new Set(["rx","ry","cx","cy","points"]),S={constituent:function(e,t){return function(e,n){return"Each ".concat(e," consists of ").concat(t>1?"":"only"," ").concat(n," ").concat(t>1?"different":""," element").concat(t>1?"s":"",".")}},onePrimitive:function(e){return function(t,n){return e>1?"The ".concat(t," element is a ").concat(n,"."):"It is a ".concat(n,".")}},multiPrimitive:function(e){return function(t,n){return e>1?"For the ".concat(t," element, its <span class='description-parameter channel-parameter'>tagName</span> varies among multiple shapes: ").concat(V(n),"."):"Its <span class='description-parameter channel-parameter'>tagName</span> varies among multiple shapes: ".concat(V(n),".")}},multiPrimitiveTagName:function(e){return function(t,n){for(var a=arguments.length,r=new Array(a>2?a-2:0),i=2;i<a;i++)r[i-2]=arguments[i];return r.sort(),"max"in e&&"min"in e?"When the value of ".concat(n," is from ").concat(r[0]," to ").concat(r[1],", its <span class='description-parameter channel-parameter'>tagName</span> is changed into ").concat(t,"."):"When the value of ".concat(n," is ").concat(q(r,"or"),", its <span class='description-parameter channel-parameter'>tagName</span> is changed into ").concat(t,".")}},channels2attribute:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t,n){return"".concat(e?"I":"i","ts ").concat(q(t)," encode").concat(t.length>1?"":"s"," the attribute ").concat(n,".")}},samePrimitive:function(e){return function(t,n,a){return e.length>1?"For the ".concat(t," to ").concat(n," elements, its encoding scheme is same to the ").concat(a," element."):"For the ".concat(t," element, its encoding scheme is same to the ").concat(a," element.")}},correlationC2C:function(e,t,n,a){return"When the value of ".concat(t," is ").concat(q(a.sort(),"or"),", its ").concat(e," is changed into ").concat(n,".")},correlationN2C:function(e,t,n,a,r){return"When the value of ".concat(t," is from ").concat(a," to ").concat(r,", its ").concat(e," is changed into ").concat(n,".")},correlationN2N:function(e){return function(t,n){return"The greater ".concat(n,", the ").concat(e?"greater\ud83d\udcc8":"smaller\ud83d\udcc9"," its ").concat(t,".")}},correlationUndefined:function(e,t){return"The correlation between ".concat(e," and ").concat(t," can not be determined yet.")}},M={entity:"entity-parameter",element:"element-parameter",channel:"channel-parameter",attribute:"attribute-parameter",value:"value-parameter"},A="NUMERICAL",C="CATEGORICAL",I=function(e){for(var t=e.attributes,n=Object.assign({},w),a=0;a<t.length;a++){var r=t[a].name,i=t[a].value;n[r]=i}var c={},o=k.get(e.tagName);if(o){if("circle"==e.tagName||"ellipse"==e.tagName){var l=[e.cx.baseVal.value,e.cy.baseVal.value],u=l[0],m=l[1];c=Object(s.a)(Object(s.a)({},c),{},{cx:u,cy:m})}else if("line"==e.tagName){var d=[e.x1.baseVal.value,e.y1.baseVal.value],f=d[0],v=d[1],p=[e.x2.baseVal.value,e.y2.baseVal.value],h=p[0],b=p[1];c=Object(s.a)(Object(s.a)({},c),{},{x1:f,y1:v,x2:h,y2:b})}else if("rect"==e.tagName){var y=[e.x.baseVal.value,e.y.baseVal.value],g=y[0],j=y[1];c=Object(s.a)(Object(s.a)({},c),{},{x:g,y:j})}else if("polygon"===e.tagName||"polyline"===e.tagName){var x=Array.from(e.points).map((function(e){return[e.x,e.y]}));x.forEach((function(e,t){c["points[".concat(t,"]['x']")]=x[0],c["points[".concat(t,"]['y']")]=x[1]}))}else if("path"===e.tagName);else if("text"===e.tagName){var O=[e.x.baseVal.value,e.y.baseVal.value],E=O[0],N=O[1],S=e.textContent;c=Object(s.a)(Object(s.a)({},c),{},{textContent:S,x:E,y:N})}return o.forEach((function(e){c[e]=n[e]})),c}},T={isEqual:function(e,t){var n=this;if(typeof e!==typeof t)return!1;if("string"==typeof e||"number"==typeof e||"undefined"==typeof e||"boolean"==typeof e)return e==t;if("object"==typeof e){if(Array.isArray(e)&&Array.isArray(t))return e.length==t.length&&e.every((function(a,r){return n.isEqual(e[r],t[r])}));if(Array.isArray(e)||Array.isArray(t))return!1;var a=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(a.length!=r.length)return!1;for(var i=0;i<a.length;i++){var c=a[i];if(!this.isEqual(e[c],t[c]))return!1}return!0}console.error("Not supported type: ".concat(typeof e))},deepcopy:function(e){return JSON.parse(JSON.stringify(e))},dfs:function(e,t){for(var n=[],a=e;a;)if(t(a),a.children&&a.children.length){var r=Array.from(a.children),i=r.pop();r.forEach((function(e){return n.push(e)})),a=i}else a=n.pop()}},D=function(e){var t=new Map,n=new Map;return e.nodes.forEach((function(e){var n=function(n){"object"==typeof e[n]?Object.entries(e[n]).forEach((function(a){var r=Object(l.a)(a,2),i=r[0],c=(r[1],"".concat(n).concat("@").concat(i));t.has(c)?t.get(c).push(e[n][i]):t.set(c,[e[n][i]])})):O.has(typeof e[n])>=0&&(t.has(n)?t.get(n).push(e[n]):t.set(n,[e[n]]))};for(var a in e)n(a)})),e.links.forEach((function(e){for(var t in e)n.has(t)?n.get(t).push(e[t]):n.set(t,[e[t]])})),t.delete("id"),n.delete("source"),n.delete("target"),t.forEach((function(e,n){t.set(n,a(e))})),n.forEach((function(e,t){n.set(t,a(e))})),{nodes:t,links:n};function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=[],a=!0,r=A;return e.forEach((function(e){n.push(e),"number"!==typeof e&&(a=!1)})),(!a||n.length<=t)&&(r=C),{type:r,range:n}}};function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"and",n="";return 1==e.length?e[0]:2==e.length?"from ".concat(e[0]," to ").concat(e[1]):(e.forEach((function(a,r){n+=a,r<e.length-1&&(r==e.length-2?n+=", ".concat(t," "):n+=", ")})),n)}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"and",n="";return 1==e.length?e[0]:2==e.length?e.join(" ".concat(t," ")):(e.forEach((function(a,r){n+=a,r<e.length-1&&(r==e.length-2?n+=", ".concat(t," "):n+=", ")})),n)}function F(e){var t,n=["zeroth","first","second","third","fourth","fifth","sixth","seventh","eighth","ninth","tenth","eleventh","twelfth","thirteenth","fourteenth","fifteenth","sixteenth","seventeenth","eighteenth","nineteenth"],a=["twent","thirt","fort","fift","sixt","sevent","eight","ninet"];return(t=e)<20?n[t]:t%10===0?a[Math.floor(t/10)-2]+"ieth":a[Math.floor(t/10)-2]+"y-"+n[t%10]}function L(e){e.dataFolder;var t=e.style,n=e.svg,r=e.dataStr,i=e.elementInfo,c=(e.layoutDescriptions,e.label2Encodings),o=(e.linkConditions,e.entityElementsGroups,e.visibleElements),s=(e.nodeMeanings,Object(a.useRef)()),u=Object(a.useState)(null),m=Object(l.a)(u,2),d=(m[0],m[1]),v=Object(a.useState)(null),h=Object(l.a)(v,2),b=(h[0],h[1]),y=Object(a.useState)(null),j=Object(l.a)(y,2),x=(j[0],j[1]),O=Object(a.useState)(!1),E=Object(l.a)(O,2),w=(E[0],E[1]),k=Object(a.useState)(0),N=Object(l.a)(k,2),S=(N[0],N[1]),M=Object(a.useState)(0),A=Object(l.a)(M,2),C=(A[0],A[1]),I=Object(a.useState)(null),T=Object(l.a)(I,2),D=(T[0],T[1]);return Object(a.useEffect)((function(){if(n&&r){var e=JSON.parse(r);D(e),s.current.innerHTML="",n&&(s.current.appendChild(n),g.select(n).on("mouseover",(function(e){var t=e.target;if(t.hasAttribute("idx")){var n=parseInt(t.getAttribute("idx")),a=i[n];a&&(d(a),b(t),x(function(e,t,n){var a={};return Object.keys(e).forEach((function(r){if(!t||!(t in e)||t==r){var i=e[r];Object.keys(i).forEach((function(e){if("style"in i[e]){var t=Object.keys(i[e].style);a[e]=t.map((function(e){return e.indexOf(".")&&(e=e.split(".")[0]),"cx"!==e||n.hasAttribute(e)?"cy"!==e||n.hasAttribute(e)?e:"y":"x"})).filter((function(e){return"x"===e||"y"===e||"textContent"===e||n.hasAttribute(e)}))}else"tagName"in i[e]&&(a[e]=["tagName"])}))}})),a}(c[a.entityType],a.label,t)),w(!0)),o.forEach((function(e){g.select(e).attr("opacity",.1)})),g.select(t).attr("opacity",1);var r=g.select(t).datum();(null===r||void 0===r?void 0:r.descriptionElements)&&(g.selectAll("p.description-term").style("background-color","#fff"),g.selectAll(r.descriptionElements.filter((function(e){return e}))).style("background-color","#e9e9e9"))}})).on("mousemove",(function(e){if(e.target.hasAttribute("idx")){var t=g.pointer(e,g.select(document.body)),n=Object(l.a)(t,2),a=n[0],r=n[1];C(a),S(r)}})).on("mouseout",(function(e){e.target.hasAttribute("idx")&&w(!1),o.forEach((function(e){g.select(e).attr("opacity",1)})),g.selectAll("p.description-term").style("background-color","#fff")})))}}),[n,i,r,c,o]),Object(f.jsxs)("div",{style:t,children:[Object(f.jsx)(p,{title:"Node-Link Diagram"}),Object(f.jsx)("div",{style:{marginTop:10},ref:s})]})}n(90);function W(e){var t=e.style,n=void 0===t?{}:t,a=e.state,r=void 0===a?"":a;return Object(f.jsxs)("div",{style:Object(s.a)({color:"",fontFamily:"Times"},n),children:[r,"\xa0\xa0",Object(f.jsxs)("div",{className:"loader-inner ball-pulse",style:{display:"inline-block"},children:[Object(f.jsx)("div",{style:{background:"black"}}),Object(f.jsx)("div",{style:{background:"black"}}),Object(f.jsx)("div",{style:{background:"black"}})]})]})}var z=n(216),P=n(102),J=n.n(P),X=[{name:"black",vec:[0,0,0]},{name:"silver",vec:[192,192,192]},{name:"grey",vec:[128,128,128]},{name:"white",vec:[255,255,255]},{name:"maroon",vec:[128,0,0]},{name:"red",vec:[255,0,0]},{name:"purple",vec:[128,0,128]},{name:"fuchsia",vec:[255,0,255]},{name:"green",vec:[0,128,0]},{name:"lime",vec:[0,255,0]},{name:"olive",vec:[128,128,0]},{name:"yellow",vec:[255,255,0]},{name:"navy",vec:[0,0,128]},{name:"blue",vec:[0,0,255]},{name:"teal",vec:[0,128,128]},{name:"aqua",vec:[0,255,255]},{name:"orange",vec:[255,165,0]},{name:"aliceblue",vec:[240,248,255]},{name:"antiquewhite",vec:[250,235,215]},{name:"aquamarine",vec:[127,255,212]},{name:"azure",vec:[240,255,255]},{name:"beige",vec:[245,245,220]},{name:"blanchedalmond",vec:[255,228,196]},{name:"blueviolet",vec:[138,43,226]},{name:"brown",vec:[165,42,42]},{name:"burlywood",vec:[222,184,135]},{name:"cadetblue",vec:[95,158,160]},{name:"chartreuse",vec:[127,255,0]},{name:"chocolate",vec:[210,105,30]},{name:"coral",vec:[255,127,80]},{name:"cornflowerblue",vec:[100,149,237]},{name:"cornsilk",vec:[255,248,220]},{name:"crimson",vec:[220,20,60]},{name:"darkblue",vec:[0,0,139]},{name:"darkcyan",vec:[0,139,139]},{name:"darkgoldenrod",vec:[184,134,11]},{name:"darkgrey",vec:[169,169,169]},{name:"darkgreen",vec:[0,100,0]},{name:"darkkhaki",vec:[189,183,107]},{name:"darkmagenta",vec:[139,0,139]},{name:"darkolivegreen",vec:[85,107,47]},{name:"darkorange",vec:[255,140,0]},{name:"darkorchid",vec:[153,50,204]},{name:"darkred",vec:[139,0,0]},{name:"darksalmon",vec:[233,150,122]},{name:"darkseagreen",vec:[143,188,143]},{name:"darkslateblue",vec:[72,61,139]},{name:"darkslategrey",vec:[47,79,79]},{name:"darkturquoise",vec:[0,206,209]},{name:"darkviolet",vec:[148,0,211]},{name:"deeppink",vec:[255,20,147]},{name:"deepskyblue",vec:[0,191,255]},{name:"dimgrey",vec:[105,105,105]},{name:"dodgerblue",vec:[30,144,255]},{name:"firebrick",vec:[178,34,34]},{name:"floralwhite",vec:[255,250,240]},{name:"forestgreen",vec:[34,139,34]},{name:"gainsboro",vec:[220,220,220]},{name:"ghostwhite",vec:[248,248,255]},{name:"gold",vec:[255,215,0]},{name:"goldenrod",vec:[218,165,32]},{name:"greenyellow",vec:[173,255,47]},{name:"honeydew",vec:[240,255,240]},{name:"hotpink",vec:[255,105,180]},{name:"indianred",vec:[205,92,92]},{name:"indigo",vec:[75,0,130]},{name:"ivory",vec:[255,255,240]},{name:"khaki",vec:[240,230,140]},{name:"lavender",vec:[230,230,250]},{name:"lavenderblush",vec:[255,240,245]},{name:"lawngreen",vec:[124,252,0]},{name:"lemonchiffon",vec:[255,250,205]},{name:"lightblue",vec:[173,216,230]},{name:"lightcoral",vec:[240,128,128]},{name:"lightcyan",vec:[224,255,255]},{name:"lightgoldenrodyellow",vec:[250,250,210]},{name:"lightgrey",vec:[211,211,211]},{name:"lightgreen",vec:[144,238,144]},{name:"lightpink",vec:[255,182,193]},{name:"lightsalmon",vec:[255,160,122]},{name:"lightseagreen",vec:[32,178,170]},{name:"lightskyblue",vec:[135,206,250]},{name:"lightslategrey",vec:[119,136,153]},{name:"lightsteelblue",vec:[176,196,222]},{name:"lightyellow",vec:[255,255,224]},{name:"limegreen",vec:[50,205,50]},{name:"linen",vec:[250,240,230]},{name:"mediumaquamarine",vec:[102,205,170]},{name:"mediumblue",vec:[0,0,205]},{name:"mediumorchid",vec:[186,85,211]},{name:"mediumpurple",vec:[147,112,219]},{name:"mediumseagreen",vec:[60,179,113]},{name:"mediumslateblue",vec:[123,104,238]},{name:"mediumspringgreen",vec:[0,250,154]},{name:"mediumturquoise",vec:[72,209,204]},{name:"mediumvioletred",vec:[199,21,133]},{name:"midnightblue",vec:[25,25,112]},{name:"mintcream",vec:[245,255,250]},{name:"mistyrose",vec:[255,228,225]},{name:"moccasin",vec:[255,228,181]},{name:"navajowhite",vec:[255,222,173]},{name:"oldlace",vec:[253,245,230]},{name:"olivedrab",vec:[107,142,35]},{name:"orangered",vec:[255,69,0]},{name:"orchid",vec:[218,112,214]},{name:"palegoldenrod",vec:[238,232,170]},{name:"palegreen",vec:[152,251,152]},{name:"paleturquoise",vec:[175,238,238]},{name:"palevioletred",vec:[219,112,147]},{name:"papayawhip",vec:[255,239,213]},{name:"peachpuff",vec:[255,218,185]},{name:"peru",vec:[205,133,63]},{name:"pink",vec:[255,192,203]},{name:"plum",vec:[221,160,221]},{name:"powderblue",vec:[176,224,230]},{name:"rosybrown",vec:[188,143,143]},{name:"royalblue",vec:[65,105,225]},{name:"saddlebrown",vec:[139,69,19]},{name:"salmon",vec:[250,128,114]},{name:"sandybrown",vec:[244,164,96]},{name:"seagreen",vec:[46,139,87]},{name:"seashell",vec:[255,245,238]},{name:"sienna",vec:[160,82,45]},{name:"skyblue",vec:[135,206,235]},{name:"slateblue",vec:[106,90,205]},{name:"slategrey",vec:[112,128,144]},{name:"snow",vec:[255,250,250]},{name:"springgreen",vec:[0,255,127]},{name:"steelblue",vec:[70,130,180]},{name:"tan",vec:[210,180,140]},{name:"thistle",vec:[216,191,216]},{name:"tomato",vec:[255,99,71]},{name:"turquoise",vec:[64,224,208]},{name:"violet",vec:[238,130,238]},{name:"wheat",vec:[245,222,179]},{name:"whitesmoke",vec:[245,245,245]},{name:"yellowgreen",vec:[154,205,50]},{name:"rebeccapurple",vec:[102,51,153]}];function Y(e){var t=J()(e),n=Object(l.a)(t,4),a=n[0],r=n[1],i=n[2],c=(n[3],Number.MAX_VALUE),o="black";return X.forEach((function(e){var t=Object(l.a)(e.vec,3),n=t[0],s=t[1],u=t[2],m=Math.pow(a-n,2)+Math.pow(r-s,2)+Math.pow(i-u,2);m<c&&(c=m,o=e.name)})),o}function B(e){var t=e.term,n=e.visibleElements,r=Object(a.useRef)(null);return g.selectAll(t.elements).datum((function(e){var t,n;return(e=null!==(t=e)&&void 0!==t?t:{}).descriptionElements=null!==(n=e.descriptionElements)&&void 0!==n?n:[],e.descriptionElements.push(r.current),e})),Object(f.jsx)("p",{className:"description-term",ref:r,style:{margin:0,padding:2,fontFamily:"Times"},onMouseOver:function(e){e.target.style.backgroundColor="#e9e9e9",n.forEach((function(e){g.select(e).attr("opacity",.1)})),t.elements.forEach((function(e){g.select(e).attr("opacity",1)}))},onMouseLeave:function(e){e.target.style.backgroundColor="#fff",n.forEach((function(e){g.select(e).attr("opacity",1)}))},dangerouslySetInnerHTML:{__html:t.content}})}function R(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=[];return e.forEach((function(e,i){var c="".concat(a,"-").concat(i);e.switch&&n.push(c),r.push({title:Object(f.jsx)(B,{visibleElements:t,term:e}),key:c,children:Array.isArray(e.children)&&e.children.length>0?R(e.children,t,n,c):null})})),r}function H(e){var t=e.graphDescriptions,n=e.visibleElements,a=e.loadingText,r=e.loading,i=[],c=[];return!r&&t&&t.length&&(i=R(t,n,c)),Object(f.jsx)("div",{style:{margin:20,marginLeft:30},children:!r&&t&&t.length?Object(f.jsx)(z.a,{style:{fontSize:18},selectable:!1,treeData:i,defaultExpandedKeys:c}):Object(f.jsx)(W,{style:{margin:20,marginLeft:28,padding:2,fontFamily:"Times"},state:a})})}var U=n(214);function _(e){var t=e.style,n=e.linkConditions,r=e.graphDescriptions,i=e.layoutDescriptions,c=e.visibleElements,o=e.loading,u=e.nodeMeanings,m=e.switchedOn,d=e.elementInfo,v=Object(a.useState)({}),h=Object(l.a)(v,2),b=h[0],y=h[1],g=Object(a.useState)({}),j=Object(l.a)(g,2),O=j[0],E=j[1],w=x(n);return Object(a.useEffect)((function(){null!==d&&(y([{content:'<span class="description-parameter entity-parameter">Link</span>: '.concat(w),elements:c.filter((function(e,t){var n;return"link"===(null===(n=d[t])||void 0===n?void 0:n.entityType)})),children:[],parameters:[]}]),E([{content:'<span class="description-parameter entity-parameter">Node</span>: Nodes represent '.concat(u,"."),elements:c.filter((function(e,t){var n;return"node"===(null===(n=d[t])||void 0===n?void 0:n.entityType)})),children:[],parameters:[]}]))}),[d,w,c,u]),Object(f.jsxs)("div",{style:Object(s.a)(Object(s.a)({},t),{},{margin:5,display:"".concat(m?"flex":"none"),flexDirection:"column"}),children:[Object(f.jsx)(p,{title:"Descriptions"}),Object(f.jsxs)("div",{style:{fontSize:18,paddingLeft:10},children:[Object(f.jsx)(U.a,{orientation:"left",style:{fontSize:20,fontFamily:"Times"},children:"Node & Link Meanings"}),o?Object(f.jsx)(W,{style:{margin:20,marginLeft:58,padding:2,fontFamily:"Times"},state:"Computing Linking Condition"}):Object(f.jsxs)("div",{style:{marginLeft:-30},children:[Object(f.jsx)(H,{loading:o,graphDescriptions:O,visibleElements:c,loadingText:"Computing Node Meanings"}),Object(f.jsx)(H,{loading:o,graphDescriptions:b,visibleElements:c,loadingText:"Computing Link Meanings"})]}),Object(f.jsx)(U.a,{orientation:"left",style:{fontSize:20,fontFamily:"Times"},children:"Visual Encoding"}),Object(f.jsx)(H,{loading:o,graphDescriptions:r,visibleElements:c,loadingText:"Computing Visual Encoding"}),Object(f.jsx)(U.a,{orientation:"left",style:{fontSize:20,fontFamily:"Times"},children:"Layout Types"}),Object(f.jsx)(H,{loading:o,graphDescriptions:i,visibleElements:c,loadingText:"Computing Layout Meaning"})]})]})}var G=n(17),K=n.n(G),$=n(109),Q={miserables:{data:"miserables/miserables_5.json",code:"miserables/code.js"},nodeEncoding:{data:"nodeEncoding/data.json",code:"nodeEncoding/code.js"},"imdb-movies":{data:"imdb-movies-raw/data.json",code:"imdb-movies-raw/code.js",preload:"imdb-movies-raw/preload.json"},"imdb-actors":{data:"imdb-actors-raw/data.json",code:"imdb-actors-raw/code.js",preload:"imdb-actors-raw/preload.json"},"imdb-movies-link":{data:"imdb-movies-link/data.json",code:"imdb-movies-link/code.js",preload:"imdb-movies-link/preload.json"},"imdb-movies-shapes":{data:"imdb-movies-shapes/data.json",code:"imdb-movies-shapes/code.js",preload:"imdb-movies-shapes/preload.json"}};function Z(){return(Z=Object($.a)(K.a.mark((function e(t){var n,a,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("data/".concat(Q[t].data)).then((function(e){return e.text()}));case 3:return n=e.sent,e.next=6,fetch("data/".concat(Q[t].code)).then((function(e){return e.text()}));case 6:return a=e.sent,e.next=9,fetch("data/".concat(Q[t].preload)).then((function(e){return e.json()}));case 9:return r=e.sent,e.abrupt("return",{dataFolder:Q[t].data.split("/")[0],dataStr:n,codeStr:a,preload:r});case 13:return e.prev=13,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{dataStr:"",codeStr:"",preload:null});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}var ee=n(22);function te(e){for(var t=[],n=0,a=Object.entries(e.nodes[0]);n<a.length;n++){var r=Object(l.a)(a[n],2),i=r[0],c=r[1];"number"===typeof c?t.push({name:i,type:"numerical"}):"string"===typeof c?t.push({name:i,type:"categorical"}):Array.isArray(c)&&t.push({name:i,type:"list"})}return t.forEach((function(t){if("numerical"===t.type){var n=function(e,t){var n=e.nodes.map((function(e){return e[t]}));return n.sort((function(e,t){return e-t})),{min:n[0],max:n[n.length-1],q1:n[parseInt(.25*n.length)],q3:n[parseInt(.75*n.length)]}}(e,t.name),a=n.min,r=n.max,i=n.q1,c=n.q3;t.min=a,t.max=r,t.q1=i,t.q3=c}})),t}var ne=n(37);function ae(e,t,n){var a={};return n.forEach((function(n){a[n.name]={};var r=e[n.name],i=t[n.name];if(void 0!==r&&void 0!==i){if("categorical"===n.type)r===i&&(a[n.name].common=a[n.name].common||{},a[n.name].common[r]=1,a[n.name].common["@@any"]=1);else if("list"===n.type){var c=(d=i,r.filter((function(e){return d.includes(e)})).sort());if(0===c.length)return void delete a[n.name];a[n.name].overlap=a[n.name].common||{},a[n.name].overlap["@@any"]=1;var o,l=function(e){var t,n=[[]],a=Object(j.a)(e);try{for(a.s();!(t=a.n()).done;){var r,i=t.value,c=[].concat(n),o=Object(j.a)(c);try{for(o.s();!(r=o.n()).done;){var l=r.value;n.push(l.concat(i))}}catch(s){o.e(s)}finally{o.f()}}}catch(s){a.e(s)}finally{a.f()}return n}(c),s=Object(j.a)(l);try{for(s.s();!(o=s.n()).done;){var u=o.value.join("-");u&&(a[n.name].overlap[u]=1)}}catch(f){s.e(f)}finally{s.f()}}else if("numerical"===n.type){if(function(e,t,n){return e===t?0:Math.abs(e-t)/(n.max-n.min)}(r,i,n)<.3){var m=Math.abs(r-i);a[n.name].similar=m,r===i&&(a[n.name].common=a[n.name].common||{},a[n.name].common[r]=1,a[n.name].common["@@any"]=1)}r<n.q1&&i<n.q1?(a[n.name]["same-bin"]=a[n.name]["same-bin"]||{},a[n.name]["same-bin"].low=1,a[n.name]["same-bin"]["@@any"]=1):r>=n.q1&&r<=n.q3&&i>=n.q1&&i<=n.q3?(a[n.name]["same-bin"]=a[n.name]["same-bin"]||{},a[n.name]["same-bin"].middle=1,a[n.name]["same-bin"]["@@any"]=1):r>n.q3&&i>n.q3&&(a[n.name]["same-bin"]=a[n.name]["same-bin"]||{},a[n.name]["same-bin"].high=1,a[n.name]["same-bin"]["@@any"]=1)}var d;0===Object.keys(a[n.name]).length&&delete a[n.name]}else delete a[n.name]})),a}function re(e,t){var n=Object.assign({},e);for(var a in t)if(a in n)for(var r in t[a])if(r in n[a])if("similar"===r)n[a][r]=Math.min(n[a][r],t[a][r]);else for(var i in t[a][r])i in n[a][r]?n[a][r][i]+=t[a][r][i]:n[a][r][i]=t[a][r][i];else n[a][r]=t[a][r];else n[a]=t[a];return n}function ie(e,t){var n=Object.assign({},e);for(var a in t)if(a in n)for(var r in t[a])if(r in n[a])for(var i in t[a][r])i in n[a][r]?n[a][r][i]+=t[a][r][i]:n[a][r][i]=t[a][r][i];else n[a][r]=t[a][r];else n[a]=t[a];return n}function ce(e,t){var n=Object.assign({},e);for(var a in t)if(a in n){for(var r in t[a])if(r in n[a])if("number"===typeof n[a][r])n[a][r]>=t[a][r]?delete n[a][r]:n[a][r]=Object(ne.a)({},t[a][r],1);else{for(var i in t[a][r])i in n[a][r]&&delete n[a][r][i];0===Object.keys(n[a][r]).length&&delete n[a][r]}0===Object.keys(n[a]).length&&delete n[a]}return n}var oe=n(26),le=n(27),se=function(){function e(){Object(oe.a)(this,e),this.array=[]}return Object(le.a)(e,[{key:"isItemEmpty",value:function(e){return!(null===e||void 0===e?void 0:e.tagName)&&!((null===e||void 0===e?void 0:e.style)&&Object.keys(e.style).length>0)}},{key:"isEmpty",value:function(){return this.array.every(this.isItemEmpty)}},{key:"getIndexOfDifferences",value:function(){var e=this,t=[];return this.array.forEach((function(n,a){e.isItemEmpty(n)||t.push(a)})),t}},{key:"eliminate",value:function(e){var t=e.array;this.array.forEach((function(e,n){var a=t[n];if(e.tagName&&a.tagName&&delete e.tagName,e.style)for(var r in e.style)a.style&&a.style[r]&&delete e.style[r]}))}}]),e}(),ue=function(){function e(t){if(Object(oe.a)(this,e),t){this.osvg=t;var n=[];T.dfs(t,(function(e){if(k.has(e.tagName)){var t=I(e);n.push({tagName:e.tagName,element:e,style:t})}})),this.basicElementArray=n}}return Object(le.a)(e,[{key:"diffWith",value:function(e){for(var t=this,n=new se,a=Math.min(this.basicElementArray.length,e.basicElementArray.length),r=function(a){var r=t.basicElementArray[a],i=e.basicElementArray[a],c=void 0,o=void 0;r.tagName==i.tagName?o=new Set(Object.keys(r.style).concat(Object.keys(i.style))):(c={tagName:!0},o=E),o.forEach((function(e){var t;T.isEqual(r.style[e],i.style[e])||(c||(c={style:{}}),c.style=null!==(t=c.style)&&void 0!==t?t:{},c.style[e]=!0)})),n.array.push(c)},i=0;i<a;i++)r(i);return n}}]),e}();function me(e,t){var n=new ue(e),a=new ue(t);return n.diffWith(a)}var de=n(74);function fe(e,t){for(var n=[],a=0;a<e.length;a++)n.push({x:e[a],y:t[a]});return new de.Statistics(n,{x:"metric",y:"metric"}).correlationCoefficient("x","y").correlationCoefficient}function ve(e){for(var t=0;t<e.length;t++)if(isNaN(parseFloat(e[t])))return{first:"categorical",second:null};return e.length<=5&&e.every((function(e){return Number.isInteger(e)}))||new Set(e).size<.3*e.length?{first:"categorical",second:"numerical"}:{first:"numerical",second:null}}function pe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.6,a=ve(e),r=ve(t);if(("numerical"===a.first||"numerical"===a.second)&&("numerical"===r.first||"numerical"===r.second)){var i=fe(e=e.map((function(e){return parseFloat(e)})),t=t.map((function(e){return parseFloat(e)})));if(Math.abs(i)>n)return{typeX:"numerical",typeY:"numerical",correlation:i}}if(a=a.first,r=r.first,"numerical"===a&&"numerical"===r){var c=fe(e=e.map((function(e){return parseFloat(e)})),t=t.map((function(e){return parseFloat(e)})));return{typeX:a,typeY:r,correlation:c}}if("categorical"===r){if("categorical"===a){for(var o={},l=0;l<e.length;l++)o[t[l]]||(o[t[l]]=new Set),o[t[l]].add(e[l]);for(var s in o)o[s]=Array.from(o[s]);return{typeX:a,typeY:r,attributeMapping:o}}for(var u={},m=0;m<e.length;m++)u[t[m]]||(u[t[m]]={min:Number.MAX_VALUE,max:Number.MIN_VALUE}),u[t[m]].min=Math.min(u[t[m]].min,e[m]),u[t[m]].max=Math.max(u[t[m]].max,e[m]);return{typeX:a,typeY:r,attributeMapping:u}}}function he(e){var t=function(e){var t=e.nodes.length,n={};e.nodes.forEach((function(e,t){n[e.id]=t}));var a=Array(t).fill().map((function(){return Array(t).fill(0)}));e.nodes.forEach((function(t,n){e.nodes.forEach((function(e,r){n!==r&&(a[n][r]=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}))}));for(var r=Array(t).fill().map((function(){return Array(t).fill(1/0)})),i=0;i<t;++i)r[i][i]=0;for(var c=0;c<e.links.length;++c){var o=n[e.links[c].source],l=n[e.links[c].target];r[o][l]=1,r[l][o]=1}for(var s=0;s<t;++s)for(var u=0;u<t;++u)for(var m=0;m<t;++m)r[u][s]+r[s][m]<r[u][m]&&(r[u][m]=r[u][s]+r[s][m]);return{euclidMatrix:a,floydMatrix:r}}(e),n=t.euclidMatrix,a=t.floydMatrix,r=n.length;a=a.flat(),n=n.flat();for(var i=[],c=0;c<a.length;c++)i.push({floyd:a[c],euclid:n[c]});i.sort((function(e,t){return e.floyd-t.floyd}));var o=i.slice(r);return new de.Statistics(o,{floyd:"metric",euclid:"metric"}).correlationCoefficient("floyd","euclid").correlationCoefficient}function be(e,t,n,a,r){var i,c=me(t(g,T.deepcopy(e)),t(g,T.deepcopy(e))),o=D(e),s=t(g,T.deepcopy(e)),u=new ue(s),m={},d=Object(j.a)(o[n].entries());try{var f=function(){var a=Object(l.a)(i.value,2),o=a[0],s=a[1],d=(s.type,s.range),f=T.deepcopy(e),v=g.shuffle(d.slice());f[n].forEach((function(e,t){o.indexOf("@")>0?e[o.split("@")[0]][o.split("@")[1]]=v[t]:e[o]=v[t]}));var p=t(g,f),h=new ue(p),b=u.diffWith(h);if(c.isEmpty()||b.eliminate(c),b.isEmpty())return"continue";b.array.forEach((function(e,t){if(e){var n=r[t];if(void 0!=n&&"undefined"!=n){var a,i;m[n]=null!==(a=m[n])&&void 0!==a?a:{};var c=m[n];c[o]=null!==(i=c[o])&&void 0!==i?i:{},e.style&&Object.keys(e.style).forEach((function(n){if(N.has(n)){var a=h.basicElementArray[t].tagName;e.style[n+"."+a]=e.style[n],delete e.style[n]}})),c[o]=function(e,t){var n={};return[e,t].forEach((function(e){if(e.tagName&&(n.tagName|=e.tagName),e.style)for(var t in e.style){var a;n.style=null!==(a=n.style)&&void 0!==a?a:{},n.style[t]|=e.style[t]}})),n}(e,c[o])}}}))};for(d.s();!(i=d.n()).done;)f()}catch(O){d.e(O)}finally{d.f()}var v={},p=[];for(var h in r.forEach((function(e,t){v[e]||(v[e]=new Set),v[e].add(t)})),a.forEach((function(e,t){e.forEach((function(e){p[e]=t}))})),m){var b=m[h],y=function(t){var a=b[t],r=[];if(a.tagName&&r.push("tagName"),a.style)for(var i in a.style)a.style[i]&&r.push(i);var c={};r.forEach((function(e){c[e]=[]})),v[h].forEach((function(a){var i=p[a],o=u.basicElementArray[a],l=e[n][i][t];t.indexOf("@")>0&&(l=e[n][i][t.split("@")[0]][t.split("@")[1]]),r.forEach((function(e){c[e][i]="tagName"===e?[l,o.tagName]:[l,o.style[e.split(".")[0]]]}))}));for(var o=0;o<r.length;o++){var s=r[o];c[s]=c[s].filter((function(e){var t=Object(l.a)(e,2),n=(t[0],t[1]);return void 0!==n&&"auto"!==n&&"undefined"!==n}));var m=pe(c[s].map((function(e){return e[0]})),c[s].map((function(e){return e[1]})));m&&("numerical"===m.typeX&&m.typeY,"tagName"===s?a.tagName=m:a.style[s]=m)}};for(var x in b)y(x)}return m}function ye(e,t,n){var a=me(t(g,T.deepcopy(e)),t(g,T.deepcopy(e))),r=new Array(e[n].length),i=t(g,T.deepcopy(e)),c=[];c.max=0;for(var o=new Map,s=function(s){console.log("%c For %c".concat(n,"%c's attribute, computing %c").concat(n,"%c[%c").concat(s,"/").concat(e[n].length,"%c]'s encoding..."),"background: #222; color: #bada55","background: #222; color: #d94e54","background: #222; color: #bada55","background: #222; color: #d94e54","background: #222; color: #bada55","background: #222; color: #d94e54","background: #222; color: #bada55");var u=T.deepcopy(e),m=u[n][s],d=i,f=v(m,u);function v(e,t){var a=[],r=[];function i(t){return!Object.keys(e).some((function(n){return"id"!==n&&"source"!==n&&"target"!==n&&!T.isEqual(e[n],t[n])}))}return t[n].forEach((function(e,t){i(e)||r.every((function(e){return!i(e)}))&&a.push(t)})),a}if(0==f.length)console.error("All entities have same attribute, algorithm can not detect any encoding.");else if(1==f.length){var p=f[0];u[n][s]=u[n][p],u[n][p]=m,1==(f=v(m=u[n][s],u)).length?console.error("Cannot deal with ".concat(n,"[").concat(s,"], only one ").concat(n.slice(0,-1)," diffs with it.")):d=t(g,T.deepcopy(u))}var h={},b=new ue(d);f.forEach((function(e){var i,d,f,v=u[n][e];u[n][s]=v,u[n][e]=m,m=u[n][s];var p="".concat(e).concat("\u2192").concat(s);if(o.has(p)){var y=o.get(p),j=Object(l.a)(y,3);i=j[0],d=j[1],f=j[2]}if(!i&&!d&&!f){i=b;var x=t(g,T.deepcopy(u));d=new ue(x);var O=i.diffWith(d);a.isEmpty()||O.eliminate(a),f=O.getIndexOfDifferences(),o.set("".concat(s).concat("\u2192").concat(e),[i,d,f])}f.forEach((function(e){h[e]||(h[e]=0),h[e]+=1,h[e]>=2&&(r[s]||(r[s]=new Set),r[s].add(e)),f.forEach((function(t){e!==t&&T.isEqual({style:i.basicElementArray[e].style,tagName:i.basicElementArray[e].tagName},{style:d.basicElementArray[t].style,tagName:d.basicElementArray[t].tagName})&&(c[e]&&!c[t]?c[t]=c[e]:!c[e]&&c[t]?c[e]=c[t]:c[e]||c[t]?(c[e],c[t]):c[e]=c[t]=++c.max)}))})),u[n][s]=u[n][e],u[n][e]=m,m=u[n][s]}))},u=0;u<e[n].length;u++)s(u);return[r,c]}function ge(e){var t=e.text;return Object(f.jsx)("div",{style:{width:"100vw",height:60,lineHeight:"60px",borderBottom:"1px solid #dfdfdf",fontFamily:"Times",fontSize:35,fontWeight:"600",textIndent:30,position:"fixed",top:0,backgroundColor:"white"},children:t||"Graph Descriptor"})}function je(e){return"string"===typeof e&&e.includes("@")?e=e.replace(/@(.*)/g,(function(e,t){return"[".concat(t,"]")})):"r"===e&&(e="radius"),e}function xe(e){var t="",n="";if(e.type?(t=e.type,n=e.value):n=e,Array.isArray(n))return n.map((function(e){return"<span class='description-parameter ".concat(t,"'>").concat(je(e),"</span>")}));if(n=je(n),/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(n)){var a=Y(n);return"<span class='description-parameter ".concat(t,"'>").concat(a,"(<span style='color: ").concat(n,";'>&#9724;</span>").concat(n,")</span>")}return"<span class='description-parameter ".concat(t,"'>").concat(n,"</span>")}var Oe="DESCRIPTIONS",Ee="LEGENDS";function we(e){var t=e.title,n=e.nodeMeanings,r=Object(a.useState)(0),i=Object(l.a)(r,2),c=i[0],s=i[1],u=Object(a.useState)(!1),m=Object(l.a)(u,2),d=m[0],v=m[1],p=Object(a.useState)(""),h=Object(l.a)(p,2),j=h[0],x=h[1],O=Object(a.useState)(""),w=Object(l.a)(O,2),N=w[0],A=w[1],C=Object(a.useState)(document.createElement("svg")),I=Object(l.a)(C,2),V=I[0],W=I[1],z=Object(a.useState)([]),P=Object(l.a)(z,2),J=P[0],X=P[1],Y=Object(a.useState)({}),B=Object(l.a)(Y,2),R=B[0],H=B[1],U=Object(a.useState)([]),G=Object(l.a)(U,2),K=G[0],$=G[1],Q=Object(a.useState)(null),ne=Object(l.a)(Q,2),oe=ne[0],le=ne[1],se=Object(a.useState)(null),me=Object(l.a)(se,2),de=me[0],fe=me[1],ve=Object(a.useState)([]),je=Object(l.a)(ve,2),we=je[0],ke=je[1],Ne=Object(a.useState)({}),Se=Object(l.a)(Ne,2),Me=Se[0],Ae=Se[1],Ce=Object(a.useState)(Oe),Ie=Object(l.a)(Ce,2),Te=Ie[0],De=(Ie[1],Object(ee.g)().demo),Ve=Object(a.useState)(""),qe=Object(l.a)(Ve,2),Fe=qe[0],Le=qe[1];if(Object(a.useEffect)((function(){De&&(console.log(De),function(e){return Z.apply(this,arguments)}(De).then((function(e){var t=e.dataStr,n=e.codeStr,a=e.preload,r=e.dataFolder;if(x(t),A(n),Le(r),a){var i=document.createElement("div");i.innerHTML=a.svg;var c=i.firstChild;W(c);var o=function(e){var t=[];return T.dfs(e,(function(e){k.has(e.tagName)&&t.push(e)})),t}(c),l=a.descriptions,s=a.layoutDescriptions,u=a.elementInfo,m=a.label2Encodings;l.forEach((function(e){T.dfs(e,(function(e){e.elementsIdx&&(e.elements=e.elementsIdx.map((function(e){return o[e]})))}))})),s.forEach((function(e){T.dfs(e,(function(e){e.elementsIdx&&(e.elements=e.elementsIdx.map((function(e){return o[e]})))}))})),X(o),H(l),$(s),fe(m),le(u)}})))}),[De]),Object(a.useEffect)((function(){0!==c&&function(){try{var e=JSON.parse(j),t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.6,a=T.deepcopy(t),r=performance.now(),i=new Function("d3","data",e),c=i(g,T.deepcopy(a)),s=new ue(c);console.log("%c Computing nodes' encodings...","background: #222; color: #bada55"),console.log("%c Computing links' encodings...","background: #222; color: #bada55");for(var u=ye(a,i,"nodes"),m=Object(l.a)(u,2),d=m[0],f=m[1],v=ye(a,i,"links"),p=Object(l.a)(v,2),h=p[0],b=p[1],y=[],j=function(e){var t;null===(t=h[e])||void 0===t||t.forEach((function(t){y[t],y[t]=e}))},x=0;x<h.length;x++)j(x);for(var O=function(e){var t,n=new Set;null===(t=d[e])||void 0===t||t.forEach((function(e){void 0===y[e]?n.add(e):delete f[e]})),d[e]=n},w=0;w<d.length;w++)O(w);var N=new Set;h.forEach((function(e){e.forEach((function(e){N.add(e)}))})),d.forEach((function(e){e.forEach((function(e){N.has(e)}))}));var A=be(a,i,"nodes",d,f),C=be(a,i,"links",h,b),I=[],V=[{entityType:"node",entity2element:d,element2label:f,label2attr2diff:A},{entityType:"link",entity2element:h,element2label:b,label2attr2diff:C}];function L(e,t,a){var r=[];return e.forEach((function(e){var i=Object(l.a)(e,2),c=i[0],o=i[1],s=[];o.tagName&&s.push("tagName"),o.style&&Object.entries(o.style).forEach((function(e){var t=Object(l.a)(e,2),n=t[0];t[1]&&s.push("".concat(n.split(".")[0]))})),s.forEach((function(e){var i;i="tagName"===e?o.tagName:o.style[e];var s={template:S.channels2attribute(),parameters:[{type:M.channel,value:[e]},{type:M.attribute,value:c}],elements:t,elementsIdx:a,switch:!1,children:[]};i&&!0!==i&&("numerical"===i.typeX&&"numerical"===i.typeY&&Math.abs(i.correlation)>n?s.children.push({template:S.correlationN2N(i.correlation>0),parameters:[{type:M.channel,value:e},{type:M.attribute,value:c}],elements:t,elementsIdx:a}):"numerical"===i.typeX&&"categorical"===i.typeY?Object.entries(i.attributeMapping).forEach((function(n){var r=Object(l.a)(n,2),i=r[0],o=r[1];s.children.push({template:S.correlationN2C,parameters:[{type:M.channel,value:e},{type:M.attribute,value:c},{type:M.value,value:i},{type:M.value,value:o.min},{type:M.value,value:o.max}],elements:t.filter((function(t){return"tagName"!==e?"textContent"===e?t.textContent===i:t.attributes[e].value==i:t.tagName==i})),elementsIdx:a.filter((function(n,a){return"tagName"!==e?"textContent"===e?t[a].textContent===i:t[a].attributes[e].value==i:t[a].tagName==i}))})})):"categorical"===i.typeX&&"categorical"===i.typeY&&i.attributeMapping&&Object.entries(i.attributeMapping).forEach((function(n){var r=Object(l.a)(n,2),i=r[0],o=r[1];s.children.push({template:S.correlationC2C,parameters:[{type:M.channel,value:e},{type:M.attribute,value:c},{type:M.value,value:i},{type:M.value,value:o}],elements:t.filter((function(t){return"tagName"!==e?"textContent"===e?t.textContent===i:t.attributes[e].value===i:t.tagName===i})),elementsIdx:a.filter((function(n,a){return"tagName"!==e?"textContent"===e?t[a].textContent===i:t[a].attributes[e].value===i:t[a].tagName===i}))})}))),0==s.children.length&&s.children.push({template:S.correlationUndefined,parameters:[{type:M.channel,value:e},{type:M.attribute,value:c}],elements:t,elementsIdx:a}),r.push(s)}))})),r}console.log(V),V.forEach((function(e){var t=e.entityType,n=e.entity2element,a=e.element2label,r=e.label2attr2diff,i=Object.keys(r).length,c=[],u=[];n.forEach((function(e){e&&e.forEach((function(e){u.push(e),c.push(s.basicElementArray[e].element)}))}));var m={template:S.constituent(t,i),parameters:[{type:M.entity,value:t},{type:M.value,value:i}],elements:c,elementsIdx:u,switch:!0,children:[]};I.push(m);var d={},f={};for(var v in r){var p,h=r[v],b=JSON.stringify(h);d[b]=null!==(p=d[b])&&void 0!==p?p:new Set,d[b].add(v),f[v]=b}var y=1,g=function(e){var t=a.map((function(t,n){return t==e?n:void 0})).filter((function(e){return void 0!==e})),n=a.map((function(t,n){return t==e?s.basicElementArray[n].element:void 0})).filter((function(e){return e})),c=r[e],u=Array.from(new Set(a.map((function(t,n){return t==e?s.basicElementArray[n].tagName:void 0})).filter((function(e){return e})))).sort();if(1===u.length){var d={template:S.onePrimitive(i),parameters:[F(y),{type:M.element,value:"&lt;".concat(u[0],"&gt;")}],elements:n,elementsIdx:t,switch:!0,children:[]};m.children.push(d),d.children=L(Object.entries(c),n,t),console.log(c),console.log(d)}else if(u.length>1){var f={template:S.multiPrimitive(i),parameters:[F(y),{type:M.element,value:u.map((function(e){return"&lt;".concat(e,"&gt;")}))}],elements:n,elementsIdx:t,switch:!0,children:[]};m.children.push(f);var v={};L(Object.entries(c).reduce((function(e,t){var n=Object(l.a)(t,2),a=n[0],r=n[1];if(r.tagName)if("categorical"===r.tagName.typeX){var i=function(e){var t,n;v[e]=null!==(t=v[e])&&void 0!==t?t:{attrName:a},v[e].attrVal=null!==(n=v[e].attrVal)&&void 0!==n?n:new Set,r.tagName.attributeMapping[e].forEach((function(t){v[e].attrVal.add(t)}))};for(var c in r.tagName.attributeMapping)i(c)}else for(var o in r.tagName.attributeMapping){var s,u;v[o]=null!==(s=v[o])&&void 0!==s?s:{attrName:a},v[o].attrVal=null!==(u=v[o].attrVal)&&void 0!==u?u:{max:-1/0,min:1/0},v[o].attrVal.max=Math.max(v[o].attrVal.max,Number(r.tagName.attributeMapping.max)),v[o].attrVal.min=Math.min(v[o].attrVal.min,Number(r.tagName.attributeMapping.min))}var m={};if(r.style)for(var d in r.style){var f;E.has(d)&&r.style[d]&&(m.style=null!==(f=m.style)&&void 0!==f?f:{},m.style[d]=r.style[d])}return Object.keys(m).length&&e.push([a,m]),e}),[]),n,t).forEach((function(e){m.children.push(e)})),u.forEach((function(e){var a=n.filter((function(t){return t.tagName===e})),r=t.filter((function(t,a){return n[a].tagName===e})),i="max"in v[e].attrVal&&"min"in v[e].attrVal?[v[e].attrVal.min,v[e].attrVal.max]:Array.from(v[e].attrVal),s={template:S.multiPrimitiveTagName(v[e].attrVal),parameters:[{type:M.element,value:"&lt;".concat(e,"&gt;")},{type:M.attribute,value:v[e].attrName}].concat(Object(o.a)(i.map((function(e){return{type:M.value,value:e}})))),elements:a,elementsIdx:r,switch:!0,children:[]};f.children.push(s);var u=Object.entries(c).reduce((function(t,n){var a=Object(l.a)(n,2),r=a[0],i=a[1],c={};if(i.style)for(var o in i.style){var s;o.split(".")[1]===e&&(o=o.split(".")[0]),k.get(e).has(o)&&!E.has(o)&&(c.style=null!==(s=c.style)&&void 0!==s?s:{},c.style[o]=i.style[o])}return Object.keys(c).length&&t.push([r,c]),t}),[]);s.children=L(u,a,r)}))}y++};for(var j in r)g(j)})),console.log(I);var W=[],z={};V.forEach((function(e){var t=e.entityType,n=e.entity2element,a=e.element2label,r=e.label2attr2diff;n.forEach((function(e,n){e.forEach((function(e){W[e]={entityType:t,entityIndex:n}}))})),a.forEach((function(e,t){Number.isInteger(e)&&(W[t].label=e)})),z[t]=r})),console.log(z);var P=Array.from(D(a).nodes.entries());document.body.appendChild(c);var J=c.getBoundingClientRect();d.forEach((function(e,t){var n=Array.from(e).map((function(e){return s.basicElementArray[e].element})),r={x:1/0,y:1/0},i={x:-1/0,y:-1/0};n.forEach((function(e){var t=e.getBoundingClientRect(),n=t.x-J.x,a=t.y-J.y;r.x=Math.min(r.x,n+t.width/2),i.x=Math.max(i.x,n+t.width/2),r.y=Math.min(r.y,a+t.height/2),i.y=Math.max(i.y,a+t.height/2)})),a.nodes[t].x=(i.x+r.x)/2,a.nodes[t].y=(i.y+r.y)/2})),document.body.removeChild(c);var X=performance.now();console.log("Computing time:",X-r,"ms");var Y=s.basicElementArray.map((function(e){return e.element}));Y.forEach((function(e,t){e.setAttribute("idx",t)}));for(var B=new Array(s.basicElementArray.length).fill().map((function(e,t){return t})),R=a.nodes.map((function(e){return e.x})),H=a.nodes.map((function(e){return e.y})),U=[],_=[],G=0;G<P.length;G++){var K=P[G][0],$=P[G][1].range,Q=pe(R,$);Math.abs(null===Q||void 0===Q?void 0:Q.correlation)>n&&U.push({name:K,type:(null===Q||void 0===Q?void 0:Q.correlation)>0});var Z=pe(H,$);Math.abs(null===Z||void 0===Z?void 0:Z.correlation)>n&&_.push({name:K,type:(null===Z||void 0===Z?void 0:Z.correlation)>0})}var ee=[];U.length>0&&_.length>0&&[{axis:"x",attrs:U},{axis:"y",attrs:_}].forEach((function(e){var t=e.axis,n=e.attrs;ee.push({template:function(e,t){return"The ".concat(e,"-coordinate encodes ").concat(t.length>1?"":"the"," attribute").concat(t.length>1?"":"s"," ").concat(q(t))},parameters:[{type:M.channel,value:t},{type:M.attribute,value:n.map((function(e){return e.name}))}],elements:[],elementsIdx:B.filter((function(e){var t;return"node"===(null===(t=W[e])||void 0===t?void 0:t.entityType)})),children:n.map((function(e){return{template:function(t,n){return"The greater the ".concat(n," is, the ").concat(e.type?"greater\ud83d\udcc8":"smaller\ud83d\udcc9"," the ").concat(t,"-coordinate is.")},parameters:[{type:M.channel,value:t},{type:M.attribute,value:e.name}],elements:Y,elementsIdx:B}}))})}));var te=he(a);return Math.abs(te)>.3?ee.push({template:function(){return"The layout is a topology-based layout, the farther the geodesic distance (the length of the shortest path) between two nodes, the farther the Euclidean distance between them."},parameters:[],elements:Y,elementsIdx:B}):0===U.length&&0===_.length&&ee.push({template:function(){return"The layout is neither an attribute-based layout nor a topology-based layout."},parameters:[],elements:Y,elementsIdx:B}),{svg:c,allElements:Y,allElementsIdx:B,descriptions:I,layoutDescriptions:ee,elementInfo:W,label2Encodings:z}}(N,e),n=t.svg,a=t.allElements,r=t.descriptions,i=t.layoutDescriptions,c=t.elementInfo,s=t.label2Encodings,u=(new XMLSerializer).serializeToString(n);r.forEach((function(e){T.dfs(e,(function(e){delete e.elements,e.content=e.template.apply(e,Object(o.a)(e.parameters.map(xe)))}))})),i.forEach((function(e){T.dfs(e,(function(e){delete e.elements,e.content=e.template.apply(e,Object(o.a)(e.parameters.map(xe)))}))}));var m={svg:u,descriptions:r,layoutDescriptions:i,elementInfo:c,label2Encodings:s};console.log(JSON.stringify(m)),r.forEach((function(e){T.dfs(e,(function(e){e.content=e.template.apply(e,Object(o.a)(e.parameters.map(xe))),e.elementsIdx&&(e.elements=e.elementsIdx.map((function(e){return a[e]})))}))})),i.forEach((function(e){T.dfs(e,(function(e){e.content=e.template.apply(e,Object(o.a)(e.parameters.map(xe))),e.elementsIdx&&(e.elements=e.elementsIdx.map((function(e){return a[e]})))}))})),W(n),X(a),H(r),$(i),le(c),fe(s),v(!1)}catch(d){console.error("invalid code or dataset."),console.error(d)}}()}),[c]),Object(a.useEffect)((function(){try{var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8,n=te(e),a={};e.nodes.forEach((function(e){a[e.id]=e}));var r=new Set;e.links.forEach((function(e){r.add("".concat(e.source,"+").concat(e.target)),r.add("".concat(e.target,"+").concat(e.source))}));var i={};Object.keys(a).forEach((function(e){Object.keys(a).forEach((function(t){var c="".concat(e,"+").concat(t);if(e!==t&&!r.has(c)){var o=ae(a[e],a[t],n);i=re(i,o)}}))}));var c=null;e.links.forEach((function(e){var t=ae(a[e.source],a[e.target],n);c=c?ie(c,ce(t,i)):ce(t,i)}));var o=e.links.length,l=[];for(var s in c)for(var u in c[s])if("number"!==typeof c[s][u])for(var m in c[s][u])c[s][u][m]>o*t&&l.push({attribute:s,relation:u,value:m,frequency:c[s][u][m],coverage:c[s][u][m]/o});return l}(JSON.parse(j),.8);ke(e)}catch(t){console.error("Invalid dataset"),ke([])}}),[j]),Object(a.useEffect)((function(){if(V&&oe){var e={node:[],link:[]};oe.forEach((function(t){if(t&&!e[t.entityType][t.entityIndex]){var n=V.cloneNode(!0);T.dfs(n,(function(e){var n=parseInt(e.getAttribute("idx"));if(!isNaN(n)){var a=oe[n];a&&a.entityIndex===t.entityIndex&&a.entityType===t.entityType||e.remove()}})),document.body.appendChild(n);var a=n.getBBox();document.body.removeChild(n);var r=document.createElement("g");Array.from(n.children).forEach((function(e){r.appendChild(e)})),e[t.entityType][t.entityIndex]={group:r,bbox:a}}})),Object.keys(e).forEach((function(t){e[t].maxBBox=e[t].reduce((function(e,t){return e.width=Math.max(e.width,t.bbox.width),e.height=Math.max(e.height,t.bbox.height),e}),{width:0,height:0})})),Ae(e)}}),[V,oe]),j)JSON.parse(j);return Object(f.jsxs)("div",{style:{},children:[Object(f.jsx)(ge,{text:t}),Object(f.jsxs)("div",{style:{width:"95vw",maxWidth:1800,minWidth:1400,position:"absolute",left:"50%",transform:"translate(-50%)",marginTop:70,paddingLeft:"2.5vw",paddingBottom:70,display:"flex",flexDirection:"raw"},children:[Object(f.jsxs)("div",{id:"left-container",style:{flex:1,height:"95vh",overflowY:"scroll",position:"relative"},children:[Object(f.jsx)(L,{style:{margin:5},dataFolder:Fe,svg:V,dataStr:j,elementInfo:oe,layoutDescriptions:K,label2Encodings:de,linkConditions:we,entityElementsGroups:Me,visibleElements:J,nodeMeanings:n}),Object(f.jsx)(b,{codeStr:N,setCodeStr:A,submit:function(){v(!0),s(c+1)},style:{}}),Object(f.jsx)(y,{dataStr:j,setDataStr:x,style:{}})]}),Object(f.jsx)("div",{id:"right-container",style:{flex:1,height:"95vh",overflowY:"scroll",display:"".concat(Te===Ee||Te===Oe?"":"none")},children:Object(f.jsx)(_,{loading:d,elementInfo:oe,linkConditions:we,graphDescriptions:R,layoutDescriptions:K,visibleElements:J,nodeMeanings:n,switchedOn:Te===Oe})})]})]})}var ke=n(114),Ne=n(215);n(144);function Se(e){var t=e.title,n=e.image,a=e.children,r=e.route,i=Object(ee.f)();return Object(f.jsxs)(Ne.a,{hoverable:!0,style:{width:350,height:420,margin:10,borderRadius:7},cover:Object(f.jsx)("img",{alt:t,src:n,style:{width:320,height:320,objectFit:"contain",borderRadius:"7px 7px 0 0"}}),onClick:function(){i.push(r)},children:[Object(f.jsx)(Ne.a.Meta,{style:{whiteSpace:"normal",height:40},title:t}),Object(f.jsx)("div",{style:{height:30,lineHeight:"25px",textOverflow:"ellipsis",overflow:"hidden"},children:a})]})}n(210);function Me(){return Object(f.jsxs)("div",{style:{height:"100vh",display:"flex",alignItems:"center",flexDirection:"column",overflow:"initial",backgroundColor:"#f5f5f5"},children:[Object(f.jsx)(ge,{}),Object(f.jsx)("div",{style:{width:"80%",maxWidth:1300,marginTop:80,marginBottom:80},children:Object(f.jsxs)("div",{style:{display:"flex",height:"40vh",flexWrap:"wrap",justifyContent:"space-around"},children:[Object(f.jsxs)(Se,{image:"./data/imdb-movies-raw/imdb-movies.png",title:"Movie-Actor-2019-China",route:"/imdb-movies",children:[Object(f.jsx)("span",{class:"description-parameter",children:"49"})," nodes and"," ",Object(f.jsx)("span",{class:"description-parameter",children:"99"})," links"]}),Object(f.jsxs)(Se,{image:"./data/imdb-movies-shapes/imdb-movies-shapes.png",title:"Movie-Actor-Jean-Pierre",route:"/imdb-movies-shapes",children:[Object(f.jsx)("span",{class:"description-parameter",children:"14"})," nodes and"," ",Object(f.jsx)("span",{class:"description-parameter",children:"25"})," links"]}),Object(f.jsxs)(Se,{image:"./data/imdb-actors/imdb-actors.png",title:"Actor-Movie-2016-2021-China",route:"/imdb-actors",children:[Object(f.jsx)("span",{class:"description-parameter",children:"17"})," nodes and"," ",Object(f.jsx)("span",{class:"description-parameter",children:"55"})," links"]}),Object(f.jsxs)(Se,{image:"./data/imdb-movies-link/imdb-movies-link.png",title:"Movie-Year-Nolan",route:"/imdb-movies-link",children:[Object(f.jsx)("span",{class:"description-parameter",children:"11"})," nodes and"," ",Object(f.jsx)("span",{class:"description-parameter",children:"16"})," links"]})]})})]})}var Ae={"imdb-movies-shapes":"Movie-Actor-Jean-Pierre","imdb-movies":"Movie-Actor-2019-China","imdb-actors":"Actor-Movie-2016-2021-China","imdb-movies-link":"Movie-Year-Nolan"},Ce={"imdb-movies-shapes":"movies directed by Jean-Pierre Melville","imdb-movies":"movies published in China from 2019 to 2020","imdb-actors":"actors who acted in more than five Chinese movies from 2016 to 2021","imdb-movies-link":"movies directed by Christopher Nolan"};var Ie=function(){return Object(f.jsx)(ke.a,{children:Object(f.jsxs)(ee.c,{children:[Object(f.jsx)(ee.a,{exact:!0,path:"/",children:Object(f.jsx)(Me,{})}),Object(f.jsx)(ee.a,{path:"/:demo",render:function(e){var t=e.match;return Object(f.jsx)(we,{title:Ae[t.params.demo],nodeMeanings:Ce[t.params.demo]})}})]})})},Te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,217)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(Ie,{})}),document.getElementById("root")),Te()},90:function(e,t,n){}},[[211,1,2]]]);
//# sourceMappingURL=main.dfab8a91.chunk.js.map